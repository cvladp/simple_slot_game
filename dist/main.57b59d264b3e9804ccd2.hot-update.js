webpackHotUpdate("main",{

/***/ "./src/scenes/Reel.ts":
/*!****************************!*\
  !*** ./src/scenes/Reel.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst pixi_js_1 = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/pixi.es.js\");\r\nconst Symbol_1 = __webpack_require__(/*! ./Symbol */ \"./src/scenes/Symbol.ts\");\r\nconst PIXI = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/pixi.es.js\");\r\nconst gsap_1 = __webpack_require__(/*! gsap */ \"./node_modules/gsap/index.js\");\r\nconst EventEmitter_1 = __webpack_require__(/*! ../system/EventEmitter */ \"./src/system/EventEmitter.ts\");\r\nconst NotificationNames_1 = __webpack_require__(/*! ../system/NotificationNames */ \"./src/system/NotificationNames.ts\");\r\nconst Units_1 = __webpack_require__(/*! ../system/Units */ \"./src/system/Units.ts\");\r\nconst howler_1 = __webpack_require__(/*! howler */ \"./node_modules/howler/dist/howler.js\");\r\n/**\r\n * Represents a single spinning reel in a slot machine game.\r\n */\r\nclass Reel extends pixi_js_1.Container {\r\n    /**\r\n     * Creates an instance of Reel.\r\n     */\r\n    constructor(reelId) {\r\n        super();\r\n        this._symArray = [];\r\n        this._symbolsPool = [];\r\n        this._spinDuration = 4;\r\n        this._reelId = reelId;\r\n        this.populateSymbolPool();\r\n        this.addInitialSymbol();\r\n        this.addMask();\r\n    }\r\n    /**\r\n     * Populates the symbol pool with textures for spinning.\r\n     */\r\n    populateSymbolPool() {\r\n        for (let i = 1; i < 15; i++) {\r\n            let randomIndex = Math.floor(gsap_1.default.utils.random(1, 8));\r\n            let texture = PIXI.Loader.shared.resources['symbol' + randomIndex].texture;\r\n            let sym = new Symbol_1.Symbol(texture);\r\n            this._symbolsPool.push(sym);\r\n        }\r\n    }\r\n    /**\r\n     * Adds the initial symbol to the reel.\r\n     */\r\n    addInitialSymbol() {\r\n        let randomIndex = Math.floor(gsap_1.default.utils.random(1, 8));\r\n        let texture = PIXI.Loader.shared.resources['symbol' + randomIndex].texture;\r\n        this._symbol = new Symbol_1.Symbol(texture);\r\n        this._symArray.push(this._symbol);\r\n        this.addChild(this._symbol);\r\n    }\r\n    /**\r\n    * Adds a mask to the reel to clip displayed symbols.\r\n    */\r\n    addMask() {\r\n        // Determine the dimensions of the _symbol\r\n        const symbolWidth = this._symbol.width;\r\n        const symbolHeight = this._symbol.height;\r\n        // Create a mask with the same size as the _symbol\r\n        const mask = new pixi_js_1.Graphics();\r\n        mask.beginFill(0xffffff);\r\n        mask.drawRect(0, 0, symbolWidth, symbolHeight);\r\n        mask.endFill();\r\n        // Apply the mask to the _symbol\r\n        this.mask = mask;\r\n        // Add the mask to the container\r\n        this.addChild(mask);\r\n    }\r\n    /**\r\n     * Adds symbols to the virtual reel for spinning.\r\n     */\r\n    addVirtualReels() {\r\n        this._symbolsPool = this.shuffleArray(this._symbolsPool);\r\n        for (let i = 1; i < this._symbolsPool.length; i++) {\r\n            let sym = this._symbolsPool[i];\r\n            sym.x = this._symbol.x;\r\n            sym.y = this._symbol.y - (this._symbol.height * i);\r\n            this.addChild(sym);\r\n            this._symArray.push(sym);\r\n        }\r\n    }\r\n    /**\r\n      * Adds the landing symbol to the reel after spinning.\r\n      */\r\n    addLandingSymbol() {\r\n        // random landing symbol\r\n        let randomIndex = Math.floor(gsap_1.default.utils.random(1, 8));\r\n        let landingTexture = PIXI.Loader.shared.resources['symbol' + randomIndex].texture;\r\n        this._landingSymbol = new Symbol_1.Symbol(landingTexture);\r\n        this._landingSymbol.x = this._symArray[0].x;\r\n        this._landingSymbol.y = this._symArray[this._symArray.length - 1].y - this._symArray[0].height;\r\n        this._symArray.push(this._landingSymbol);\r\n        this.addChild(this._landingSymbol);\r\n    }\r\n    /**\r\n     * Initiates the spin animation of the reel\r\n     */\r\n    spinReel() {\r\n        this.addVirtualReels();\r\n        this.addLandingSymbol();\r\n        for (let i = 0; i < this._symArray.length; i++) {\r\n            gsap_1.default.to(this._symArray[i], {\r\n                y: this._symArray[i].y + this._symArray[i].height * (this._symArray.length - 1), duration: this._spinDuration, ease: \"power1.inOut\", onComplete: () => {\r\n                    if (i == this._symArray.length - 1) {\r\n                        this.resetReels();\r\n                        // last reel finished spinning\r\n                        if (this._reelId == Units_1.Units.MAX_REELS_NUMBER - 1) {\r\n                            EventEmitter_1.EventEmitter.getInstance().emit(NotificationNames_1.NotificationNames.REELS_SPIN_STOPPED);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Resets the reel to its initial state after spinning.\r\n     */\r\n    resetReels() {\r\n        this._symbol = this._landingSymbol;\r\n        this._symArray = [];\r\n        this._symArray.push(this._symbol);\r\n    }\r\n    /**\r\n     * Shuffles the elements of an array.\r\n     * @param array The array to be shuffled.\r\n     * @returns The shuffled array.\r\n     */\r\n    shuffleArray(array) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]]; // Swap elements at indices i and j\r\n        }\r\n        return array;\r\n    }\r\n    playReelSpinSound() {\r\n        const spinSound = new howler_1.Howl({\r\n            src: ['assets/music/tribalBG.mp3'],\r\n            loop: true, volume: 0.25\r\n        });\r\n        bgMusic.play();\r\n    }\r\n}\r\nexports.Reel = Reel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NlbmVzL1JlZWwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmVzL1JlZWwudHM/ZDJlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250YWluZXIsIEdyYXBoaWNzIH0gZnJvbSBcInBpeGkuanNcIjtcclxuaW1wb3J0IHsgU3ltYm9sIH0gZnJvbSAnLi9TeW1ib2wnO1xyXG5pbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xyXG5pbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi4vc3lzdGVtL0V2ZW50RW1pdHRlclwiO1xyXG5pbXBvcnQgeyBOb3RpZmljYXRpb25OYW1lcyB9IGZyb20gXCIuLi9zeXN0ZW0vTm90aWZpY2F0aW9uTmFtZXNcIjtcclxuaW1wb3J0IHsgVW5pdHMgfSBmcm9tIFwiLi4vc3lzdGVtL1VuaXRzXCI7XHJcblxyXG5pbXBvcnQgeyBIb3dsIH0gZnJvbSAnaG93bGVyJztcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgc3Bpbm5pbmcgcmVlbCBpbiBhIHNsb3QgbWFjaGluZSBnYW1lLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJlZWwgZXh0ZW5kcyBDb250YWluZXIge1xyXG5cclxuICAgIHByaXZhdGUgX3N5bUFycmF5OiBBcnJheTxTeW1ib2w+ID0gW107XHJcbiAgICBwcml2YXRlIF9sYW5kaW5nU3ltYm9sOiBTeW1ib2w7XHJcbiAgICBwcml2YXRlIF9zeW1ib2xzUG9vbDogQXJyYXk8U3ltYm9sPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfcmVlbElkOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIF9zeW1ib2w6IFN5bWJvbDtcclxuICAgIHB1YmxpYyBfc3BpbkR1cmF0aW9uOiBudW1iZXIgPSA0O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZWVsLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihyZWVsSWQ6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fcmVlbElkID0gcmVlbElkO1xyXG4gICAgICAgIHRoaXMucG9wdWxhdGVTeW1ib2xQb29sKCk7XHJcbiAgICAgICAgdGhpcy5hZGRJbml0aWFsU3ltYm9sKCk7XHJcbiAgICAgICAgdGhpcy5hZGRNYXNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb3B1bGF0ZXMgdGhlIHN5bWJvbCBwb29sIHdpdGggdGV4dHVyZXMgZm9yIHNwaW5uaW5nLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlU3ltYm9sUG9vbCgpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDE1OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihnc2FwLnV0aWxzLnJhbmRvbSgxLCA4KSk7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1snc3ltYm9sJyArIHJhbmRvbUluZGV4XS50ZXh0dXJlO1xyXG4gICAgICAgICAgICBsZXQgc3ltID0gbmV3IFN5bWJvbCh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fc3ltYm9sc1Bvb2wucHVzaChzeW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIGluaXRpYWwgc3ltYm9sIHRvIHRoZSByZWVsLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZEluaXRpYWxTeW1ib2woKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihnc2FwLnV0aWxzLnJhbmRvbSgxLCA4KSk7XHJcbiAgICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzWydzeW1ib2wnICsgcmFuZG9tSW5kZXhdLnRleHR1cmU7XHJcbiAgICAgICAgdGhpcy5fc3ltYm9sID0gbmV3IFN5bWJvbCh0ZXh0dXJlKTtcclxuICAgICAgICB0aGlzLl9zeW1BcnJheS5wdXNoKHRoaXMuX3N5bWJvbCk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9zeW1ib2wpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyBhIG1hc2sgdG8gdGhlIHJlZWwgdG8gY2xpcCBkaXNwbGF5ZWQgc3ltYm9scy5cclxuICAgICovXHJcbiAgICBwcml2YXRlIGFkZE1hc2soKTogdm9pZCB7XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBfc3ltYm9sXHJcbiAgICAgICAgY29uc3Qgc3ltYm9sV2lkdGggPSB0aGlzLl9zeW1ib2wud2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc3ltYm9sSGVpZ2h0ID0gdGhpcy5fc3ltYm9sLmhlaWdodDtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgbWFzayB3aXRoIHRoZSBzYW1lIHNpemUgYXMgdGhlIF9zeW1ib2xcclxuICAgICAgICBjb25zdCBtYXNrID0gbmV3IEdyYXBoaWNzKCk7XHJcbiAgICAgICAgbWFzay5iZWdpbkZpbGwoMHhmZmZmZmYpO1xyXG4gICAgICAgIG1hc2suZHJhd1JlY3QoMCwgMCwgc3ltYm9sV2lkdGgsIHN5bWJvbEhlaWdodCk7XHJcbiAgICAgICAgbWFzay5lbmRGaWxsKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHRoZSBtYXNrIHRvIHRoZSBfc3ltYm9sXHJcbiAgICAgICAgdGhpcy5tYXNrID0gbWFzaztcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBtYXNrIHRvIHRoZSBjb250YWluZXJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKG1hc2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBzeW1ib2xzIHRvIHRoZSB2aXJ0dWFsIHJlZWwgZm9yIHNwaW5uaW5nLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFZpcnR1YWxSZWVscygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5fc3ltYm9sc1Bvb2wgPSB0aGlzLnNodWZmbGVBcnJheSh0aGlzLl9zeW1ib2xzUG9vbCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5fc3ltYm9sc1Bvb2wubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHN5bSA9IHRoaXMuX3N5bWJvbHNQb29sW2ldO1xyXG4gICAgICAgICAgICBzeW0ueCA9IHRoaXMuX3N5bWJvbC54O1xyXG4gICAgICAgICAgICBzeW0ueSA9IHRoaXMuX3N5bWJvbC55IC0gKHRoaXMuX3N5bWJvbC5oZWlnaHQgKiBpKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChzeW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9zeW1BcnJheS5wdXNoKHN5bSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICAqIEFkZHMgdGhlIGxhbmRpbmcgc3ltYm9sIHRvIHRoZSByZWVsIGFmdGVyIHNwaW5uaW5nLlxyXG4gICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZGRMYW5kaW5nU3ltYm9sKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIHJhbmRvbSBsYW5kaW5nIHN5bWJvbFxyXG4gICAgICAgIGxldCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoZ3NhcC51dGlscy5yYW5kb20oMSwgOCkpO1xyXG4gICAgICAgIGxldCBsYW5kaW5nVGV4dHVyZSA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbJ3N5bWJvbCcgKyByYW5kb21JbmRleF0udGV4dHVyZTtcclxuICAgICAgICB0aGlzLl9sYW5kaW5nU3ltYm9sID0gbmV3IFN5bWJvbChsYW5kaW5nVGV4dHVyZSk7XHJcbiAgICAgICAgdGhpcy5fbGFuZGluZ1N5bWJvbC54ID0gdGhpcy5fc3ltQXJyYXlbMF0ueDtcclxuICAgICAgICB0aGlzLl9sYW5kaW5nU3ltYm9sLnkgPSB0aGlzLl9zeW1BcnJheVt0aGlzLl9zeW1BcnJheS5sZW5ndGggLSAxXS55IC0gdGhpcy5fc3ltQXJyYXlbMF0uaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLl9zeW1BcnJheS5wdXNoKHRoaXMuX2xhbmRpbmdTeW1ib2wpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fbGFuZGluZ1N5bWJvbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgdGhlIHNwaW4gYW5pbWF0aW9uIG9mIHRoZSByZWVsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzcGluUmVlbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFkZFZpcnR1YWxSZWVscygpO1xyXG4gICAgICAgIHRoaXMuYWRkTGFuZGluZ1N5bWJvbCgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3N5bUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGdzYXAudG8odGhpcy5fc3ltQXJyYXlbaV0sIHtcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMuX3N5bUFycmF5W2ldLnkgKyB0aGlzLl9zeW1BcnJheVtpXS5oZWlnaHQgKiAodGhpcy5fc3ltQXJyYXkubGVuZ3RoIC0gMSksIGR1cmF0aW9uOiB0aGlzLl9zcGluRHVyYXRpb24sIGVhc2U6IFwicG93ZXIxLmluT3V0XCIsIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSB0aGlzLl9zeW1BcnJheS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRSZWVscygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXN0IHJlZWwgZmluaXNoZWQgc3Bpbm5pbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlZWxJZCA9PSBVbml0cy5NQVhfUkVFTFNfTlVNQkVSIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRFbWl0dGVyLmdldEluc3RhbmNlKCkuZW1pdChOb3RpZmljYXRpb25OYW1lcy5SRUVMU19TUElOX1NUT1BQRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgcmVlbCB0byBpdHMgaW5pdGlhbCBzdGF0ZSBhZnRlciBzcGlubmluZy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNldFJlZWxzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3N5bWJvbCA9IHRoaXMuX2xhbmRpbmdTeW1ib2w7XHJcbiAgICAgICAgdGhpcy5fc3ltQXJyYXkgPSBbXTtcclxuICAgICAgICB0aGlzLl9zeW1BcnJheS5wdXNoKHRoaXMuX3N5bWJvbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaHVmZmxlcyB0aGUgZWxlbWVudHMgb2YgYW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIGJlIHNodWZmbGVkLlxyXG4gICAgICogQHJldHVybnMgVGhlIHNodWZmbGVkIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNodWZmbGVBcnJheTxUPihhcnJheTogVFtdKTogVFtdIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07IC8vIFN3YXAgZWxlbWVudHMgYXQgaW5kaWNlcyBpIGFuZCBqXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5UmVlbFNwaW5Tb3VuZCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc3BpblNvdW5kID0gbmV3IEhvd2woe1xyXG4gICAgICAgICAgICBzcmM6IFsnYXNzZXRzL211c2ljL3RyaWJhbEJHLm1wMyddLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICBiZ011c2ljLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBQ0E7QUFaQTtBQUVBO0FBSUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXpKQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scenes/Reel.ts\n");

/***/ }),

/***/ "./src/scenes/Reels.ts":
/*!*****************************!*\
  !*** ./src/scenes/Reels.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst pixi_js_1 = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/pixi.es.js\");\r\nconst Reel_1 = __webpack_require__(/*! ./Reel */ \"./src/scenes/Reel.ts\");\r\nconst PIXI = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/pixi.es.js\");\r\nconst gsap_1 = __webpack_require__(/*! gsap */ \"./node_modules/gsap/index.js\");\r\nconst Units_1 = __webpack_require__(/*! ../system/Units */ \"./src/system/Units.ts\");\r\nconst EventEmitter_1 = __webpack_require__(/*! ../system/EventEmitter */ \"./src/system/EventEmitter.ts\");\r\nconst NotificationNames_1 = __webpack_require__(/*! ../system/NotificationNames */ \"./src/system/NotificationNames.ts\");\r\nconst Symbol_1 = __webpack_require__(/*! ./Symbol */ \"./src/scenes/Symbol.ts\");\r\n/**\r\n * Represents a collection of spinning reels in a slot machine game.\r\n */\r\nclass Reels extends pixi_js_1.Container {\r\n    constructor() {\r\n        super();\r\n        this._reelsNumber = Units_1.Units.MAX_REELS_NUMBER;\r\n        this._reelsSpacer = 1.02;\r\n        this._reelsArray = [];\r\n        this._reelsSpinDelay = 0.05;\r\n        this._topSymbols = [];\r\n        this.initReels();\r\n        this.addReelsFrame();\r\n        EventEmitter_1.EventEmitter.getInstance().on(NotificationNames_1.NotificationNames.REELS_SPIN_STOPPED, this.getTopSymbols.bind(this));\r\n    }\r\n    /**\r\n     * Initializes the reels by creating instances of the Reel class and positioning them horizontally.\r\n     */\r\n    initReels() {\r\n        for (let i = 0; i < this._reelsNumber; i++) {\r\n            var reel = new Reel_1.Reel(i);\r\n            this._reelsArray.push(reel);\r\n            this.addChild(reel);\r\n            reel.x = reel.width * i * this._reelsSpacer;\r\n        }\r\n    }\r\n    /**\r\n      * Adds a frame around the collection of reels.\r\n      */\r\n    addReelsFrame() {\r\n        const frame = new PIXI.Graphics();\r\n        const xPos = this._reelsArray[0]._symbol.x - 5;\r\n        const yPos = this._reelsArray[0]._symbol.y - 5;\r\n        const frameWidth = this._reelsArray[0]._symbol.width * this._reelsNumber * this._reelsSpacer + 5;\r\n        const frameHeight = this._reelsArray[0]._symbol.y + this._reelsArray[0]._symbol.height + 10;\r\n        frame.lineStyle(10, 0xBEBEBE);\r\n        frame.drawRect(xPos, yPos, frameWidth, frameHeight);\r\n        this.addChild(frame);\r\n    }\r\n    /**\r\n     * Initiates the spinning animation for each reel in the collection.\r\n    */\r\n    startSpin() {\r\n        this.resetTopSymbol();\r\n        for (let i = 0; i < this._reelsArray.length; i++) {\r\n            gsap_1.default.delayedCall(this._reelsSpinDelay * i, () => {\r\n                this._reelsArray[i].spinReel();\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Retrieves the top symbols from each reel and prepares them for animation.\r\n     */\r\n    getTopSymbols() {\r\n        for (let i = 0; i < this._reelsArray.length; i++) {\r\n            var sym = new Symbol_1.Symbol(this._reelsArray[i]._symbol.getSymbolTexture());\r\n            sym.pivot.set(sym.width * 0.5, sym.height * 0.5);\r\n            sym.x = this._reelsArray[i].x + sym.width * 0.5;\r\n            sym.y = sym.y + sym.height * 0.5;\r\n            this._topSymbols.push(sym);\r\n            this.addChild(sym);\r\n        }\r\n        this.checkForWins();\r\n        this.animatTopSymbols();\r\n    }\r\n    /**\r\n     * Checks if there is a winning combination on the top symbols\r\n     */\r\n    checkForWins() {\r\n        if (this._topSymbols.length != this._reelsArray.length) {\r\n            throw new Error(\"Invalid number of top symbols\");\r\n        }\r\n        // generate an array of textures corresponding to each top symbol\r\n        const textures = this._topSymbols.map(symbol => symbol.getSymbolTexture());\r\n        // Check for all three symbols being the same\r\n        if (textures[0] === textures[1] && textures[0] === textures[2]) {\r\n            // All three symbols are winning symbols\r\n            return;\r\n        }\r\n        // Check for first two symbols being the same\r\n        if (textures[0] === textures[1]) {\r\n            this.removeChild(this._topSymbols[2]);\r\n            this._topSymbols.pop(); // Remove last element from array\r\n            return;\r\n        }\r\n        // Check for last two symbols being the same\r\n        if (textures[1] === textures[2]) {\r\n            this.removeChild(this._topSymbols[0]);\r\n            this._topSymbols.shift(); // Remove first element from array\r\n            return;\r\n        }\r\n        // Check for first and last symbols being the same\r\n        if (textures[0] === textures[2]) {\r\n            this.removeChild(this._topSymbols[1]);\r\n            // Remove middle element from array\r\n            this._topSymbols.splice(1, 1);\r\n            return;\r\n        }\r\n        // No wins\r\n        this.resetTopSymbol();\r\n    }\r\n    /**\r\n     * Animates the top symbols by calling the animateSymbol method.\r\n     */\r\n    animatTopSymbols() {\r\n        this.animateSymbol();\r\n    }\r\n    /**\r\n     *\r\n     * Animates a single symbol in the top symbols array.\r\n     * @param currentSymbolIndex The index of the symbol to animate. Defaults to 0.\r\n     */\r\n    animateSymbol(currentSymbolIndex = 0) {\r\n        if (this._topSymbols[currentSymbolIndex] == null) {\r\n            return;\r\n        }\r\n        let animationDelay = 0.25;\r\n        this.setChildIndex(this._topSymbols[currentSymbolIndex], this.children.length - 1);\r\n        gsap_1.default.to(this._topSymbols[currentSymbolIndex].scale, {\r\n            duration: 0.25, x: 1.25, y: 1.25, onComplete: () => {\r\n                // check if the symbol was not removed during the first tween\r\n                if (this._topSymbols[currentSymbolIndex] == null) {\r\n                    return;\r\n                }\r\n                gsap_1.default.to(this._topSymbols[currentSymbolIndex].scale, { duration: 0.25, x: 1, y: 1 });\r\n                currentSymbolIndex++;\r\n                if (currentSymbolIndex == this._topSymbols.length) {\r\n                    animationDelay = 1;\r\n                    currentSymbolIndex = 0;\r\n                }\r\n                gsap_1.default.delayedCall(animationDelay, () => {\r\n                    this.animateSymbol(currentSymbolIndex);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Resets the top symbols array by removing all symbols from the display list and clearing the array.\r\n     */\r\n    resetTopSymbol() {\r\n        for (let i = 0; i < this._topSymbols.length; i++) {\r\n            this.removeChild(this._topSymbols[i]);\r\n        }\r\n        this._topSymbols = [];\r\n    }\r\n}\r\nexports.Reels = Reels;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NlbmVzL1JlZWxzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lcy9SZWVscy50cz9jZjRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCB7IFJlZWwgfSBmcm9tIFwiLi9SZWVsXCI7XHJcbmltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XHJcbmltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XHJcbmltcG9ydCB7IFVuaXRzIH0gZnJvbSBcIi4uL3N5c3RlbS9Vbml0c1wiO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi4vc3lzdGVtL0V2ZW50RW1pdHRlclwiO1xyXG5pbXBvcnQgeyBOb3RpZmljYXRpb25OYW1lcyB9IGZyb20gXCIuLi9zeXN0ZW0vTm90aWZpY2F0aW9uTmFtZXNcIjtcclxuaW1wb3J0IHsgU3ltYm9sIH0gZnJvbSAnLi9TeW1ib2wnO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIHNwaW5uaW5nIHJlZWxzIGluIGEgc2xvdCBtYWNoaW5lIGdhbWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVlbHMgZXh0ZW5kcyBDb250YWluZXIge1xyXG5cclxuICAgIHByaXZhdGUgX3JlZWxzTnVtYmVyOiBudW1iZXIgPSBVbml0cy5NQVhfUkVFTFNfTlVNQkVSO1xyXG4gICAgcHJpdmF0ZSBfcmVlbHNTcGFjZXI6IG51bWJlciA9IDEuMDI7XHJcbiAgICBwcml2YXRlIF9yZWVsc0FycmF5OiBBcnJheTxSZWVsPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfcmVlbHNTcGluRGVsYXk6IG51bWJlciA9IDAuMDU7XHJcblxyXG4gICAgcHJpdmF0ZSBfdG9wU3ltYm9sczogQXJyYXk8U3ltYm9sPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0UmVlbHMoKTtcclxuICAgICAgICB0aGlzLmFkZFJlZWxzRnJhbWUoKTtcclxuXHJcbiAgICAgICAgRXZlbnRFbWl0dGVyLmdldEluc3RhbmNlKCkub24oTm90aWZpY2F0aW9uTmFtZXMuUkVFTFNfU1BJTl9TVE9QUEVELCB0aGlzLmdldFRvcFN5bWJvbHMuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgcmVlbHMgYnkgY3JlYXRpbmcgaW5zdGFuY2VzIG9mIHRoZSBSZWVsIGNsYXNzIGFuZCBwb3NpdGlvbmluZyB0aGVtIGhvcml6b250YWxseS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpbml0UmVlbHMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yZWVsc051bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciByZWVsID0gbmV3IFJlZWwoaSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZWxzQXJyYXkucHVzaChyZWVsKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChyZWVsKTtcclxuICAgICAgICAgICAgcmVlbC54ID0gcmVlbC53aWR0aCAqIGkgKiB0aGlzLl9yZWVsc1NwYWNlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgICogQWRkcyBhIGZyYW1lIGFyb3VuZCB0aGUgY29sbGVjdGlvbiBvZiByZWVscy5cclxuICAgICAgKi9cclxuICAgIHByaXZhdGUgYWRkUmVlbHNGcmFtZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmcmFtZSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcbiAgICAgICAgY29uc3QgeFBvcyA9IHRoaXMuX3JlZWxzQXJyYXlbMF0uX3N5bWJvbC54IC0gNTtcclxuICAgICAgICBjb25zdCB5UG9zID0gdGhpcy5fcmVlbHNBcnJheVswXS5fc3ltYm9sLnkgLSA1O1xyXG4gICAgICAgIGNvbnN0IGZyYW1lV2lkdGggPSB0aGlzLl9yZWVsc0FycmF5WzBdLl9zeW1ib2wud2lkdGggKiB0aGlzLl9yZWVsc051bWJlciAqIHRoaXMuX3JlZWxzU3BhY2VyICsgNTtcclxuICAgICAgICBjb25zdCBmcmFtZUhlaWdodCA9IHRoaXMuX3JlZWxzQXJyYXlbMF0uX3N5bWJvbC55ICsgdGhpcy5fcmVlbHNBcnJheVswXS5fc3ltYm9sLmhlaWdodCArIDEwO1xyXG5cclxuICAgICAgICBmcmFtZS5saW5lU3R5bGUoMTAsIDB4QkVCRUJFKTtcclxuICAgICAgICBmcmFtZS5kcmF3UmVjdCh4UG9zLCB5UG9zLCBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZChmcmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgdGhlIHNwaW5uaW5nIGFuaW1hdGlvbiBmb3IgZWFjaCByZWVsIGluIHRoZSBjb2xsZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBzdGFydFNwaW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZXNldFRvcFN5bWJvbCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcmVlbHNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBnc2FwLmRlbGF5ZWRDYWxsKHRoaXMuX3JlZWxzU3BpbkRlbGF5ICogaSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVlbHNBcnJheVtpXS5zcGluUmVlbCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHRvcCBzeW1ib2xzIGZyb20gZWFjaCByZWVsIGFuZCBwcmVwYXJlcyB0aGVtIGZvciBhbmltYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VG9wU3ltYm9scygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3JlZWxzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN5bSA9IG5ldyBTeW1ib2wodGhpcy5fcmVlbHNBcnJheVtpXS5fc3ltYm9sLmdldFN5bWJvbFRleHR1cmUoKSk7XHJcbiAgICAgICAgICAgIHN5bS5waXZvdC5zZXQoc3ltLndpZHRoICogMC41LCBzeW0uaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgc3ltLnggPSB0aGlzLl9yZWVsc0FycmF5W2ldLnggKyBzeW0ud2lkdGggKiAwLjU7XHJcbiAgICAgICAgICAgIHN5bS55ID0gc3ltLnkgKyBzeW0uaGVpZ2h0ICogMC41O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fdG9wU3ltYm9scy5wdXNoKHN5bSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoc3ltKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tGb3JXaW5zKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRUb3BTeW1ib2xzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlcmUgaXMgYSB3aW5uaW5nIGNvbWJpbmF0aW9uIG9uIHRoZSB0b3Agc3ltYm9sc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoZWNrRm9yV2lucygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3RvcFN5bWJvbHMubGVuZ3RoICE9IHRoaXMuX3JlZWxzQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtYmVyIG9mIHRvcCBzeW1ib2xzXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgYW4gYXJyYXkgb2YgdGV4dHVyZXMgY29ycmVzcG9uZGluZyB0byBlYWNoIHRvcCBzeW1ib2xcclxuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RvcFN5bWJvbHMubWFwKHN5bWJvbCA9PiBzeW1ib2wuZ2V0U3ltYm9sVGV4dHVyZSgpKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFsbCB0aHJlZSBzeW1ib2xzIGJlaW5nIHRoZSBzYW1lXHJcbiAgICAgICAgaWYgKHRleHR1cmVzWzBdID09PSB0ZXh0dXJlc1sxXSAmJiB0ZXh0dXJlc1swXSA9PT0gdGV4dHVyZXNbMl0pIHtcclxuICAgICAgICAgICAgLy8gQWxsIHRocmVlIHN5bWJvbHMgYXJlIHdpbm5pbmcgc3ltYm9sc1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgZmlyc3QgdHdvIHN5bWJvbHMgYmVpbmcgdGhlIHNhbWVcclxuICAgICAgICBpZiAodGV4dHVyZXNbMF0gPT09IHRleHR1cmVzWzFdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fdG9wU3ltYm9sc1syXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvcFN5bWJvbHMucG9wKCk7IC8vIFJlbW92ZSBsYXN0IGVsZW1lbnQgZnJvbSBhcnJheVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgbGFzdCB0d28gc3ltYm9scyBiZWluZyB0aGUgc2FtZVxyXG4gICAgICAgIGlmICh0ZXh0dXJlc1sxXSA9PT0gdGV4dHVyZXNbMl0pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl90b3BTeW1ib2xzWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5fdG9wU3ltYm9scy5zaGlmdCgpOyAvLyBSZW1vdmUgZmlyc3QgZWxlbWVudCBmcm9tIGFycmF5XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciBmaXJzdCBhbmQgbGFzdCBzeW1ib2xzIGJlaW5nIHRoZSBzYW1lXHJcbiAgICAgICAgaWYgKHRleHR1cmVzWzBdID09PSB0ZXh0dXJlc1syXSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX3RvcFN5bWJvbHNbMV0pO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgbWlkZGxlIGVsZW1lbnQgZnJvbSBhcnJheVxyXG4gICAgICAgICAgICB0aGlzLl90b3BTeW1ib2xzLnNwbGljZSgxLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm8gd2luc1xyXG4gICAgICAgIHRoaXMucmVzZXRUb3BTeW1ib2woKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuaW1hdGVzIHRoZSB0b3Agc3ltYm9scyBieSBjYWxsaW5nIHRoZSBhbmltYXRlU3ltYm9sIG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhbmltYXRUb3BTeW1ib2xzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZVN5bWJvbCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEFuaW1hdGVzIGEgc2luZ2xlIHN5bWJvbCBpbiB0aGUgdG9wIHN5bWJvbHMgYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gY3VycmVudFN5bWJvbEluZGV4IFRoZSBpbmRleCBvZiB0aGUgc3ltYm9sIHRvIGFuaW1hdGUuIERlZmF1bHRzIHRvIDAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYW5pbWF0ZVN5bWJvbChjdXJyZW50U3ltYm9sSW5kZXg6IG51bWJlciA9IDApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3RvcFN5bWJvbHNbY3VycmVudFN5bWJvbEluZGV4XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhbmltYXRpb25EZWxheTogbnVtYmVyID0gMC4yNTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDaGlsZEluZGV4KHRoaXMuX3RvcFN5bWJvbHNbY3VycmVudFN5bWJvbEluZGV4XSwgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcclxuICAgICAgICBnc2FwLnRvKHRoaXMuX3RvcFN5bWJvbHNbY3VycmVudFN5bWJvbEluZGV4XS5zY2FsZSwge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogMC4yNSwgeDogMS4yNSwgeTogMS4yNSwgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHN5bWJvbCB3YXMgbm90IHJlbW92ZWQgZHVyaW5nIHRoZSBmaXJzdCB0d2VlblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvcFN5bWJvbHNbY3VycmVudFN5bWJvbEluZGV4XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ3NhcC50byh0aGlzLl90b3BTeW1ib2xzW2N1cnJlbnRTeW1ib2xJbmRleF0uc2NhbGUsIHsgZHVyYXRpb246IDAuMjUsIHg6IDEsIHk6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U3ltYm9sSW5kZXgrKztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN5bWJvbEluZGV4ID09IHRoaXMuX3RvcFN5bWJvbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGVsYXkgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTeW1ib2xJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZ3NhcC5kZWxheWVkQ2FsbChhbmltYXRpb25EZWxheSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVN5bWJvbChjdXJyZW50U3ltYm9sSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgdG9wIHN5bWJvbHMgYXJyYXkgYnkgcmVtb3ZpbmcgYWxsIHN5bWJvbHMgZnJvbSB0aGUgZGlzcGxheSBsaXN0IGFuZCBjbGVhcmluZyB0aGUgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRUb3BTeW1ib2woKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90b3BTeW1ib2xzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fdG9wU3ltYm9sc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3RvcFN5bWJvbHMgPSBbXTtcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFSQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4S0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scenes/Reels.ts\n");

/***/ })

})